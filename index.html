<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>åŒ—æµ·é“è¡Œç¨‹ Web App 3.0</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind è‡ªè¨‚ä¸»é¡Œ -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            hokkaidoDark: "#041826",   // èƒŒæ™¯æ·±è—
            hokkaidoBlue: "#1D4ED8",   // ä¸»è—
            hokkaidoLight: "#E0F2FE",  // æ·ºè—
          },
          boxShadow: {
            soft: "0 10px 25px rgba(15,23,42,0.25)",
          },
        },
      },
    };
  </script>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <style>
    /* Hero æ©¢åœ“å¼§å½¢éŠœæ¥æ•ˆæœ */
    .hero-mask-bottom {
      position: relative;
      overflow: hidden;
    }
    .hero-mask-bottom::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: -60px;
      transform: translateX(-50%);
      width: 140%;
      height: 120px;
      background-color: #ffffff;
      border-radius: 50%;
      z-index: 5;
    }
    .main-card {
      position: relative;
      z-index: 10;
      margin-top: -70px;
    }
    .map-frame {
      border: none;
      width: 100%;
      height: 260px;
      border-radius: 1rem;
    }
  </style>
</head>

<body class="bg-hokkaidoDark text-slate-100">
<div id="app" class="min-h-screen flex justify-center">
  <div class="w-full max-w-md pb-28">

    <!-- Hero / Banner -->
    <header class="hero-mask-bottom">
      <div
        class="h-[250px] w-full bg-cover bg-center"
        style="background-image: url('https://images.pexels.com/photos/360912/pexels-photo-360912.jpeg');"
      >
        <div class="w-full h-full bg-gradient-to-b from-hokkaidoDark/20 to-hokkaidoDark/75 flex flex-col justify-between p-4">
          <div class="flex justify-between items-center text-xs">
            <span class="px-2 py-1 rounded-full bg-black/40 backdrop-blur">
              åŒ—æµ·é“ 9 å¤©è¼•é¬†è¡Œ
            </span>
            <span class="px-2 py-1 rounded-full bg-black/40 backdrop-blur">
              2026 / 1 / 26 â€“ 2 / 3
            </span>
          </div>

          <div class="space-y-1">
            <h1 class="text-2xl font-semibold tracking-wide">
              Hokkaido Winter Trip 3.0
            </h1>
            <p class="text-sm text-slate-100/80">
              Cassandra &amp; Ivy ãƒ» æœ­å¹Œãƒ»å°æ¨½ãƒ»æ”¯ç¬æ¹–ãƒ»åƒæ­²
            </p>
          </div>
        </div>
      </div>
    </header>

    <!-- ä¸»å¡ç‰‡ -->
    <main class="main-card px-4">
      <section class="bg-white text-slate-900 rounded-3xl shadow-soft p-4 space-y-4">

        <!-- Trip Tag & Summary -->
        <div class="flex items-center justify-between gap-2">
          <div>
            <p class="text-xs text-slate-400 uppercase tracking-wide">
              è¡Œç¨‹æ¦‚è¦½
            </p>
            <p class="text-sm font-medium">
              æœ­å¹Œ 5 æ™šãƒ»åƒæ­² 2 æ™šãƒ»9 å¤© 8 å¤œ
            </p>
          </div>
          <div class="flex gap-2 text-[11px]">
            <span class="px-2 py-1 rounded-full bg-hokkaidoLight text-hokkaidoBlue font-medium">
              å¤§çœ¾é‹è¼¸
            </span>
            <span class="px-2 py-1 rounded-full bg-slate-100">
              é«”åŠ›ä¿ç•™çµ„
            </span>
          </div>
        </div>

        <!-- èˆªç­ / ä½å®¿ / äº¤é€š tabs -->
        <div class="flex gap-2 text-xs mt-2">
          <button
            v-for="tab in tabs"
            :key="tab.id"
            @click="activeTab = tab.id"
            class="flex-1 py-2 rounded-2xl border text-center transition
                   hover:border-hokkaidoBlue hover:text-hokkaidoBlue"
            :class="activeTab === tab.id
              ? 'bg-hokkaidoBlue text-white border-hokkaidoBlue'
              : 'bg-slate-50 border-slate-200 text-slate-700'"
          >
            {{ tab.label }}
          </button>
        </div>

        <!-- Tab Content -->
        <div class="mt-3 space-y-3 text-sm">
          <!-- Flights -->
          <div v-if="activeTab === 'flight'" class="space-y-3">
            <div class="bg-slate-50 rounded-2xl p-3">
              <p class="text-xs font-semibold text-slate-500 mb-1">
                å»ç¨‹ï½œ1 / 26ï¼ˆä¸€ï¼‰
              </p>
              <p class="font-medium">
                å°ç£ âœˆ æ–°åƒæ­²ï¼ˆ08:35 â†’ 13:15ï¼‰
              </p>
              <p class="text-xs text-slate-500 mt-1">
                æŠµé”å¾Œæ­ JR å¿«é€Ÿ Airport ç´„ 40 åˆ†é˜åˆ°æœ­å¹Œã€‚
              </p>
            </div>
            <div class="bg-slate-50 rounded-2xl p-3">
              <p class="text-xs font-semibold text-slate-500 mb-1">
                å›ç¨‹ï½œ2 / 3ï¼ˆäºŒï¼‰
              </p>
              <p class="font-medium">
                æ–°åƒæ­² âœˆ å°ç£ï¼ˆ14:40 â†’ 18:15ï¼‰
              </p>
              <p class="text-xs text-slate-500 mt-1">
                å»ºè­°èµ·é£›å‰ 3 å°æ™‚æŠµé”æ©Ÿå ´ï¼Œæœ€å¾Œæ¡è²·ä¼´æ‰‹ç¦®ã€‚
              </p>
            </div>
          </div>

          <!-- Hotels -->
          <div v-if="activeTab === 'stay'" class="space-y-3">
            <div class="bg-slate-50 rounded-2xl p-3 space-y-1">
              <p class="text-xs font-semibold text-slate-500">
                æœ­å¹Œ 5 æ™šï¼ˆ1 / 26 â€“ 1 / 31ï¼‰
              </p>
              <p class="font-medium">äº¬ç‹ãƒ—ãƒ¬ãƒªã‚¢ãƒ›ãƒ†ãƒ«æœ­å¹Œï¼ˆKeio Prelia Hotelï¼‰</p>
              <p class="text-xs text-slate-500">
                4 Chome-11-1 Kita 8 Jonishi, Kita Ward, Sapporo
              </p>
              <button
                @click="openMaps('äº¬ç‹ãƒ—ãƒ¬ãƒªã‚¢ãƒ›ãƒ†ãƒ«æœ­å¹Œ')"
                class="mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-hokkaidoLight text-hokkaidoBlue"
              >
                åœ¨ Google Maps é–‹å•Ÿ
              </button>
            </div>

            <div class="bg-slate-50 rounded-2xl p-3 space-y-1">
              <p class="text-xs font-semibold text-slate-500">
                åƒæ­² 2 æ™šï¼ˆ2 / 1 â€“ 2 / 3ï¼‰
              </p>
              <p class="font-medium">Chiyoda-cho 3-13 ä¸€å¸¶ä½å®¿ï¼ˆåƒæ­²å¸‚ï¼‰</p>
              <p class="text-xs text-slate-500">
                æ–¹ä¾¿å‰å¾€æ–°åƒæ­²æ©Ÿå ´èˆ‡æ”¯ç¬æ¹–å†°æ¿¤ç¥­ã€‚
              </p>
              <button
                @click="openMaps('Chiyoda-cho 3-13 åƒæ­³å¸‚')"
                class="mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-hokkaidoLight text-hokkaidoBlue"
              >
                åœ¨ Google Maps é–‹å•Ÿ
              </button>
            </div>
          </div>

          <!-- Transport -->
          <div v-if="activeTab === 'transport'" class="space-y-3">
            <div class="bg-slate-50 rounded-2xl p-3 space-y-1">
              <p class="text-xs font-semibold text-slate-500">
                ä¸»è¦äº¤é€š
              </p>
              <ul class="list-disc list-inside text-xs text-slate-600 space-y-1">
                <li>æœ­å¹Œå¸‚å€ï¼šåœ°éµ / å¸‚é›» + å°‘é‡è¨ˆç¨‹è»Šï¼Œç„¡é ˆ JR Passã€‚</li>
                <li>æœ­å¹Œ â‡„ å°æ¨½ï¼šJR å¿«é€Ÿåˆ—è»Šå¾€è¿”ï¼ˆå–®ç¨‹ç´„ Â¥750ï¼‰ã€‚</li>
                <li>åƒæ­² â‡„ æ”¯ç¬æ¹–ï¼šå·´å£«å¾€è¿”ï¼Œå–®ç¨‹ç´„ 55 åˆ†é˜ã€‚</li>
              </ul>
            </div>
            <div class="bg-slate-50 rounded-2xl p-3 space-y-1">
              <p class="text-xs font-semibold text-slate-500">
                é«”åŠ›ä¿ç•™ Tips
              </p>
              <ul class="list-disc list-inside text-xs text-slate-600 space-y-1">
                <li>é•·è·é›¢æˆ–ä¸Šå¡è·¯æ®µå¯æ”¹æ­è¨ˆç¨‹è»Šã€‚</li>
                <li>å„ªå…ˆæ’åœ°ä¸‹è¡—ã€å®¤å…§æ™¯é»ï¼Œé¿å…é•·æ™‚é–“æš´éœ²åœ¨é¢¨é›ªä¸­ã€‚</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- é ç®— & åŒ¯ç‡ -->
        <section class="mt-2 space-y-3 text-xs">
          <div class="flex items-center justify-between">
            <h2 class="text-sm font-semibold text-slate-800">
              é ç®— &amp; åŒ¯ç‡ï¼ˆCassandraï¼‰
            </h2>
            <span class="px-2 py-1 rounded-full bg-slate-100 text-slate-500">
              ä¸Šé™ï¼š{{ budgetTwd.toLocaleString() }} TWD
            </span>
          </div>

          <div class="bg-slate-50 rounded-2xl p-3 space-y-2">
            <div class="flex gap-2 items-center">
              <label class="w-24 text-[11px] text-slate-500">åŒ¯ç‡ 1 TWD =</label>
              <input
                type="number"
                step="0.01"
                v-model.number="jpyPerTwd"
                class="flex-1 rounded-xl border border-slate-200 px-2 py-1 text-right text-xs"
              />
              <span class="text-[11px] text-slate-500">JPY</span>
            </div>
            <p class="text-[11px] text-slate-500">
              ç›®å‰é ä¼°ï¼š<span class="font-semibold text-hokkaidoBlue">{{ budgetJpy.toLocaleString() }}</span> æ—¥åœ“å¯ç”¨ã€‚
            </p>

            <div class="flex gap-2 items-center mt-2">
              <label class="w-24 text-[11px] text-slate-500">æœ¬è¶Ÿå·²èŠ±</label>
              <input
                type="number"
                min="0"
                v-model.number="extraManualSpend"
                class="flex-1 rounded-xl border border-slate-200 px-2 py-1 text-right text-xs"
                placeholder="é™¤æ¯æ—¥äº¤é€š/é¤è²»ä¹‹å¤–çš„å…¶ä»–èŠ±è²» (JPY)"
              />
            </div>

            <div class="mt-2 space-y-1">
              <div class="flex justify-between text-[11px]">
                <span>ç›®å‰ä¼°è¨ˆç¸½èŠ±è²»</span>
                <span class="font-semibold text-slate-700">
                  Â¥{{ totalSpendJpy.toLocaleString() }}
                  ï¼ˆç´„ {{ totalSpendTwd.toLocaleString() }} TWDï¼‰
                </span>
              </div>
              <div class="w-full h-2 rounded-full bg-slate-200 overflow-hidden">
                <div
                  class="h-full rounded-full transition-all"
                  :class="budgetBarColor"
                  :style="{ width: budgetUsedPercent + '%' }"
                ></div>
              </div>
              <div class="flex justify-between text-[11px] text-slate-500">
                <span>ä½¿ç”¨ {{ budgetUsedPercent.toFixed(0) }}%</span>
                <span>å‰©é¤˜ç´„ Â¥{{ remainingJpy.toLocaleString() }}</span>
              </div>
            </div>
          </div>
        </section>

        <!-- æ—¥ç¨‹åˆ‡æ› -->
        <section class="mt-4 space-y-3">
          <div class="flex items-center justify-between">
            <h2 class="text-sm font-semibold text-slate-800">
              æ¯æ—¥è¡Œç¨‹
            </h2>
            <p class="text-[11px] text-slate-400">
              é»é¸æ—¥æœŸæŸ¥çœ‹æ™¯é»ã€åœ°åœ–èˆ‡ Check List
            </p>
          </div>

          <div class="flex gap-2 overflow-x-auto pb-1">
            <button
              v-for="day in days"
              :key="day.id"
              @click="selectDay(day.id)"
              class="flex-shrink-0 px-3 py-2 rounded-2xl border text-xs text-left transition"
              :class="currentDayId === day.id
                ? 'bg-hokkaidoBlue text-white border-hokkaidoBlue'
                : 'bg-slate-50 border-slate-200 text-slate-700'"
            >
              <div class="font-semibold">
                Day {{ day.display }}
              </div>
              <div class="text-[11px]">
                {{ day.shortTitle }}
              </div>
            </button>
          </div>

          <!-- ç•¶æ—¥æ‘˜è¦ + äº¤é€šé ä¼° -->
          <div class="bg-slate-50 rounded-2xl p-3 space-y-2 text-xs">
            <div class="flex justify-between gap-2">
              <div>
                <p class="font-semibold text-slate-700">
                  {{ currentDay.title }}
                </p>
                <p class="text-slate-500">
                  {{ currentDay.summary }}
                </p>
                <p class="text-[11px] text-slate-400" v-if="currentDay.area">
                  ä¸»è¦å€åŸŸï¼š{{ currentDay.area }}
                </p>
              </div>
              <div class="text-right text-[11px]">
                <p class="text-slate-400">æœ¬æ—¥äº¤é€šé ä¼°</p>
                <p class="font-semibold text-hokkaidoBlue">
                  Â¥{{ currentDay.transportEstimate.toLocaleString() }}
                </p>
              </div>
            </div>
          </div>

          <!-- Day 6 åˆ†é–‹è¡Œç¨‹: Cassandra / Ivy -->
          <div
            v-if="currentDayId === 'd6'"
            class="bg-slate-50 rounded-2xl p-3 space-y-2 text-xs"
          >
            <div class="flex justify-between items-center">
              <p class="font-semibold text-slate-700">
                Day 6 è‡ªç”±è¡Œç¨‹åˆ†æµ
              </p>
              <div class="flex gap-2">
                <button
                  class="px-2 py-1 rounded-full border text-[11px]"
                  :class="splitPerson === 'cassandra'
                    ? 'bg-hokkaidoBlue text-white border-hokkaidoBlue'
                    : 'bg-white border-slate-200 text-slate-700'"
                  @click="splitPerson = 'cassandra'"
                >
                  Cassandra
                </button>
                <button
                  class="px-2 py-1 rounded-full border text-[11px]"
                  :class="splitPerson === 'ivy'
                    ? 'bg-hokkaidoBlue text-white border-hokkaidoBlue'
                    : 'bg-white border-slate-200 text-slate-700'"
                  @click="splitPerson = 'ivy'"
                >
                  Ivy
                </button>
              </div>
            </div>
            <div v-if="splitPerson === 'cassandra'" class="space-y-1">
              <p class="font-semibold text-slate-700">Cassandra çš„æƒ³æ³•ï¼ˆæš«å®šï¼‰</p>
              <ul class="list-disc list-inside text-[11px] text-slate-500 space-y-1">
                <li>æœ­å¹Œç«™å‘¨é‚Šæ…¢é€›æ›¸åº—ã€æ–‡å…·åº—ã€Loftï¼ç´€ä¼Šåœ‹å±‹ã€‚</li>
                <li>ä¸‹åˆå» JR Tower T38 æ‹åŸå¸‚ç…§ï¼Œæ™šä¸Šæ³¡é£¯åº—å¤§æµ´å ´ã€‚</li>
                <li>é€™ä¸€æ—¥ç›¡é‡æŠŠè…³åŠ›ç•™åˆ°å¾Œé¢çš„æ”¯ç¬æ¹–èˆ‡æ©Ÿå ´æ—¥ã€‚</li>
              </ul>
            </div>
            <div v-if="splitPerson === 'ivy'" class="space-y-1">
              <p class="font-semibold text-slate-700">Ivy çš„æƒ³æ³•ï¼ˆæš«å®šï¼‰</p>
              <ul class="list-disc list-inside text-[11px] text-slate-500 space-y-1">
                <li>å¯ä»¥è‡ªå·±å®‰æ’å’–å•¡å»³å·¡ç¦®ã€ç¾é£Ÿåå–®æˆ–å†å»ä¸€æ¬¡æƒ³é‡é€›çš„å€åŸŸã€‚</li>
                <li>è‹¥æƒ³æ‹ç…§ï¼Œå¯å†å›å¤§é€šå…¬åœ’æˆ–ç‹¸å°è·¯å•†åœˆè£œç•«é¢ã€‚</li>
                <li>æ™šä¸Šç´„åœ¨æœ­å¹Œç«™é™„è¿‘é›†åˆï¼Œä¸€èµ·åƒæ™šé¤ã€‚</li>
              </ul>
            </div>
          </div>

          <!-- æ™¯é»åˆ—è¡¨ -->
          <div class="space-y-2 text-xs">
            <div
              v-for="spot in currentDay.spots"
              :key="spot.name"
              class="flex items-start gap-3 bg-slate-50 rounded-2xl p-3"
              :class="spot.name === currentSpot.name ? 'ring-2 ring-hokkaidoBlue/60' : ''"
            >
              <button
                class="mt-1 w-8 h-8 rounded-full flex items-center justify-center text-[11px] font-semibold"
                :class="spot.category === 'æ™¯é»'
                  ? 'bg-hokkaidoLight text-hokkaidoBlue'
                  : spot.category === 'ç¾é£Ÿ'
                    ? 'bg-amber-100 text-amber-700'
                    : 'bg-emerald-100 text-emerald-700'"
                @click="setCurrentSpot(spot)"
              >
                {{ spot.icon }}
              </button>
              <div class="flex-1">
                <div class="flex justify-between gap-2">
                  <p class="font-semibold text-slate-800">
                    {{ spot.name }}
                  </p>
                  <span class="text-[11px] text-slate-400">
                    {{ spot.category }}
                  </span>
                </div>
                <p class="text-slate-500 mt-0.5">
                  {{ spot.note }}
                </p>
                <div class="flex gap-2 mt-2">
                  <button
                    @click="setCurrentSpot(spot)"
                    class="px-2 py-1 rounded-full bg-white border border-slate-200 text-[11px]"
                  >
                    æŸ¥çœ‹åœ°åœ–
                  </button>
                  <button
                    @click="openMaps(spot.mapsQuery)"
                    class="px-2 py-1 rounded-full bg-hokkaidoBlue text-white text-[11px]"
                  >
                    åœ¨ Google Maps é–‹å•Ÿå°èˆª
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- æ¯æ—¥ Check List -->
          <div class="bg-slate-50 rounded-2xl p-3 text-xs space-y-2">
            <div class="flex justify-between items-center">
              <p class="font-semibold text-slate-700">ä»Šæ—¥ Check List</p>
              <p class="text-[11px] text-slate-400">
                ï¼ˆæ‰“å‹¾åªæ˜¯å¹«è¨˜æ†¶ï¼Œç”¨å®Œé€™è¶Ÿå°±å¥½ï¼‰
              </p>
            </div>
            <div
              v-for="(item, idx) in currentDay.checklist"
              :key="idx"
              class="flex items-start gap-2"
            >
              <input
                type="checkbox"
                v-model="item.done"
                class="mt-0.5 w-3 h-3 rounded border-slate-300"
              />
              <span
                class="text-[11px]"
                :class="item.done ? 'line-through text-slate-400' : 'text-slate-600'"
              >
                {{ item.text }}
              </span>
            </div>
          </div>

          <!-- Google Maps å€ -->
          <div class="bg-slate-900 rounded-2xl p-3 text-xs text-slate-100 space-y-2">
            <div class="flex justify-between items-center">
              <div>
                <p class="text-[11px] text-slate-400">
                  ç›®å‰é¸æ“‡æ™¯é»
                </p>
                <p class="text-sm font-semibold">
                  {{ currentSpot.name }}
                </p>
              </div>
              <span class="text-[11px] px-2 py-1 rounded-full bg-slate-800">
                {{ currentSpot.category }}
              </span>
            </div>
            <iframe
              class="map-frame mt-1"
              :src="mapEmbedUrl"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </section>

        <!-- Must Do / Must Eat / Must Buy -->
        <section class="mt-4 space-y-2 text-xs">
          <h2 class="text-sm font-semibold text-slate-800">
            Hokkaido Must-Do / Must-Eat / Must-Buy
          </h2>
          <div class="bg-slate-50 rounded-2xl p-3 grid grid-cols-1 gap-3">
            <div>
              <p class="font-semibold text-slate-700 mb-1 text-[13px]">å¿…åš Must-Do</p>
              <ul class="list-disc list-inside text-[11px] text-slate-600 space-y-1">
                <li>åœ¨è—»å²©å±±çœ‹ä¸€æ¬¡æœ­å¹Œå¤œæ™¯ï¼Œè¨˜å¾—å¤šå¸¶ä¸€é¡†è¡Œå‹•é›»æºã€‚</li>
                <li>æ”¯ç¬æ¹–å†°æ¿¤ç¥­ä¸€å®šè¦æ‹ã€Œç™½å¤© + é»ç‡ˆã€å…©ç¨®æ°›åœã€‚</li>
                <li>åœ¨é£¯åº—å¤§æµ´å ´æ³¡åˆ°å®Œå…¨æš–èµ·ä¾†å†å›æˆ¿é–“ç¡è¦ºã€‚</li>
              </ul>
            </div>
            <div>
              <p class="font-semibold text-slate-700 mb-1 text-[13px]">å¿…åƒ Must-Eat</p>
              <ul class="list-disc list-inside text-[11px] text-slate-600 space-y-1">
                <li>äºŒæ¢å¸‚å ´çš„æµ·é®®ä¸¼ï¼ˆç”Ÿé­šç‰‡ + èƒèŸ¹ä¸€å®šè¦ä¾†ä¸€ç¢—ï¼‰ã€‚</li>
                <li>å°æ¨½çš„å£½å¸ï¼ˆä¾‹å¦‚æ”¿å£½å¸ï¼‰ï¼Œé¸ä¸€é¤å¥½å¥½çŠ’è³è‡ªå·±ã€‚</li>
                <li>æ–°åƒæ­²æ©Ÿå ´æ‹‰éºµé“å ´æŒ‘ä¸€é–“å–œæ­¡çš„åŒ—æµ·é“æ‹‰éºµã€‚</li>
              </ul>
            </div>
            <div>
              <p class="font-semibold text-slate-700 mb-1 text-[13px]">å¿…è²· Must-Buy</p>
              <ul class="list-disc list-inside text-[11px] text-slate-600 space-y-1">
                <li>æ–°åƒæ­²æ©Ÿå ´ï¼šç™½è‰²æˆ€äººã€Royce å·§å…‹åŠ›ã€è–¯æ¢ä¸‰å…„å¼Ÿã€‚</li>
                <li>åŒ—æµ·é“é™å®šé›¶é£Ÿï¼ˆè¨˜å¾—ç•™ä¸‹è‡ªå·±æ„›åƒçš„ï¼Œåˆ¥å…¨éƒ¨é€äººï¼‰ã€‚</li>
                <li>å¦‚æœæœ‰é‡åˆ°å–œæ­¡çš„æ¯›æ¯›è€³ç½©ã€æ‰‹å¥—æˆ–åœå·¾ï¼Œå¯ä»¥ç•¶å ´ç”¨ã€å›å°ç£ä¹Ÿèƒ½ç¹¼çºŒç©¿ã€‚</li>
              </ul>
            </div>
          </div>
        </section>
      </section>

      <!-- åº•éƒ¨å›ºå®šå°èˆªæ¢ï¼ˆè£é£¾ç”¨ï¼‰ -->
      <nav
        class="fixed bottom-0 left-0 right-0 max-w-md mx-auto px-6 py-2 rounded-t-3xl bg-black/60 backdrop-blur flex justify-between text-[11px] text-slate-200"
      >
        <button class="flex flex-col items-center gap-0.5">
          <span>è¡Œç¨‹</span>
        </button>
        <button class="flex flex-col items-center gap-0.5 opacity-70">
          <span>é ç®—</span>
        </button>
        <button class="flex flex-col items-center gap-0.5 opacity-70">
          <span>å°æé†’</span>
        </button>
      </nav>
    </main>
  </div>
</div>

<script>
  const { createApp, computed } = Vue;

  createApp({
    data() {
      return {
        tabs: [
          { id: "flight", label: "èˆªç­" },
          { id: "stay",   label: "ä½å®¿" },
          { id: "transport", label: "äº¤é€š" },
        ],
        activeTab: "flight",

        // é ç®— & åŒ¯ç‡
        budgetTwd: 26000,    // Cassandra ä¸Šé™
        jpyPerTwd: 4.5,      // å¯è‡ªè¡Œèª¿æ•´
        extraManualSpend: 0, // å…¶ä»–æ‰‹å‹•è¼¸å…¥çš„é¡å¤–æ—¥å¹£æ”¯å‡º

        // æ¯æ—¥ä¼°è¨ˆæ”¯å‡º (äº¤é€š+é¤é£²+é–€ç¥¨çš„å¤§ç•¥å€¼ï¼›ä½¿ç”¨è€…å¯è‡ªè¡Œæ”¹)
        dailySpendEstimate: {
          d1: 6000,
          d2: 8000,
          d3: 9000,
          d4: 7000,
          d5: 11000,
          d6: 6000,
          d7: 9000,
          d8: 9000,
          d9: 3000,
        },

        currentDayId: "d1",
        currentSpot: {
          name: "æ–°åƒæ­²æ©Ÿå ´",
          category: "äº¤é€š",
          mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯",
          note: "åŒ—æµ·é“çš„å…¥å£ï¼Œä¹Ÿæ˜¯æœ€å¾Œæ¡è²·ä¼´æ‰‹ç¦®çš„å¥½åœ°æ–¹ã€‚",
          icon: "âœˆï¸",
        },

        splitPerson: "cassandra",

        days: [
          {
            id: "d1",
            display: 1,
            shortTitle: "æŠµé”æœ­å¹Œãƒ»å¯¶å¯å¤¢ä¸­å¿ƒ",
            title: "Day 1ï½œ1 / 26ï¼ˆä¸€ï¼‰æŠµé” & æœ­å¹Œè»Šç«™å‘¨é‚Š",
            summary: "æ–°åƒæ­²æ©Ÿå ´æŠµé” â†’ JR æœ­å¹Œ â†’ é£¯åº— Check-in â†’ å¯¶å¯å¤¢ä¸­å¿ƒ & æœ­å¹Œè»Šç«™é€›è¡—ã€‚",
            area: "æ–°åƒæ­²ãƒ»æœ­å¹Œè»Šç«™",
            transportEstimate: 3000,
            spots: [
              {
                name: "æ–°åƒæ­²æ©Ÿå ´",
                category: "äº¤é€š",
                mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯",
                note: "æŠµé”å¾Œæ­ JR å¿«é€Ÿ Airport ç´„ 40 åˆ†é˜åˆ°æœ­å¹Œã€‚",
                icon: "âœˆï¸",
              },
              {
                name: "äº¬ç‹ãƒ—ãƒ¬ãƒªã‚¢ãƒ›ãƒ†ãƒ«æœ­å¹Œ",
                category: "ä½å®¿",
                mapsQuery: "äº¬ç‹ãƒ—ãƒ¬ãƒªã‚¢ãƒ›ãƒ†ãƒ«æœ­å¹Œ",
                note: "æœ­å¹Œç«™åŒ—å£æ­¥è¡Œç´„ 3â€“5 åˆ†é˜ï¼Œå›é£¯åº—æ³¡å¤§æµ´å ´ã€‚",
                icon: "ğŸ¨",
              },
              {
                name: "å¯¶å¯å¤¢ä¸­å¿ƒ æœ­å¹Œï¼ˆå¤§ä¸¸ 8Fï¼‰",
                category: "æ™¯é»",
                mapsQuery: "ãƒã‚±ãƒ¢ãƒ³ã‚»ãƒ³ã‚¿ãƒ¼ã‚µãƒƒãƒãƒ­",
                note: "æŠµé”ç¬¬ä¸€å¤©åªè·‘è»Šç«™å¤§æ¨“ï¼Œè¼•é¬†æ¡è³¼ã€‚",
                icon: "ğŸ§¸",
              },
            ],
            checklist: [
              { text: "ä¸‹é£›æ©Ÿå¾Œå…ˆè£œå……æ°´åˆ†ã€æˆ´å¥½å¸½å­æ‰‹å¥—ã€‚", done: false },
              { text: "JR æœ­å¹Œè»Šç¥¨ã€Suica / IC å¡æº–å‚™å¥½ã€‚", done: false },
              { text: "Check-in å¾Œå…ˆä¼‘æ¯è‡³å°‘ 30 åˆ†é˜å†å‡ºé–€ã€‚", done: false },
              { text: "å¯¶å¯å¤¢ä¸­å¿ƒå…ˆè²·æƒ³è¦çš„é™å®šå“ã€‚", done: false },
            ],
          },
          {
            id: "d2",
            display: 2,
            shortTitle: "åŒ—å¤§ãƒ»åŒ—æµ·é“ç¥å®®",
            title: "Day 2ï½œ1 / 27ï¼ˆäºŒï¼‰åŒ—æµ·é“å¤§å­¸ & åŒ—æµ·é“ç¥å®®",
            summary: "ä¸ŠåˆåŒ—æµ·é“å¤§å­¸é›ªæ™¯ï¼Œä¸‹åˆåŒ—æµ·é“ç¥å®® & å…­èŠ±äº­åˆ¤å®˜é¤…ï¼Œæ™šé¤æˆå‰æ€æ±—çƒ¤è‚‰ã€‚",
            area: "æœ­å¹ŒåŒ—å€ãƒ»åœ“å±±",
            transportEstimate: 3000,
            spots: [
              {
                name: "åŒ—æµ·é“å¤§å­¸ï¼ˆæœ­å¹Œæ ¡å€ï¼‰",
                category: "æ™¯é»",
                mapsQuery: "åŒ—æµ·é“å¤§å­¦ æœ­å¹Œã‚­ãƒ£ãƒ³ãƒ‘ã‚¹",
                note: "åªèµ°æ ¡é–€èˆ‡å…‹æ‹‰å…‹åƒä¸€å¸¶ï¼Œé«”åŠ›ä¿ç•™ã€‚",
                icon: "ğŸ“",
              },
              {
                name: "åŒ—æµ·é“ç¥å®®",
                category: "æ™¯é»",
                mapsQuery: "åŒ—æµ·é“ç¥å®®",
                note: "å†¬å­£é›ªæ™¯éå¸¸æ¼‚äº®ï¼Œå¯é †è¨ªå…­èŠ±äº­ç¥å®®èŒ¶å±‹ã€‚",
                icon: "â›©ï¸",
              },
              {
                name: "å…­èŠ±äº­ ç¥å®®èŒ¶å±‹",
                category: "ç¾é£Ÿ",
                mapsQuery: "å…­èŠ±äº­ ç¥å®®èŒ¶å±‹",
                note: "å“åšç†±é¨°é¨°åˆ¤å®˜é¤…ï¼Œæš–èº«ä¼‘æ¯ã€‚",
                icon: "ğŸ¡",
              },
            ],
            checklist: [
              { text: "å‡ºé–€å‰ç¢ºèªå†°çˆª / é˜²æ»‘é‹æ˜¯å¦ç©¿å¥½ã€‚", done: false },
              { text: "æ‰‹æ©Ÿé›»é‡ > 70%ï¼Œå¸¶è¡Œå‹•é›»æºã€‚", done: false },
              { text: "åœ¨åŒ—æµ·é“å¤§å­¸ä¸è¦èµ°å¤ªæ·±ï¼Œåªæ‹é‡é»å³å¯ã€‚", done: false },
              { text: "åŒ—æµ·é“ç¥å®®æŠ½ä¸€æ”¯ç±¤ã€è²·å¾¡å®ˆã€‚", done: false },
            ],
          },
          {
            id: "d3",
            display: 3,
            shortTitle: "äºŒæ¢å¸‚å ´ãƒ»è«è¨ªç¥ç¤¾ãƒ»è—»å²©å±±",
            title: "Day 3ï½œ1 / 28ï¼ˆä¸‰ï¼‰æµ·é®®ä¸¼ & è—»å²©å±±å¤œæ™¯",
            summary: "æ—©ä¸Šæµ·é®®ä¸¼ + è«è¨ªç¥ç¤¾ï¼Œä¸‹åˆå›é£¯åº—åˆç¡ï¼Œæ™šä¸Šè—»å²©å±±å¤œæ™¯ã€‚",
            area: "æœ­å¹Œä¸­å¿ƒãƒ»å—å€",
            transportEstimate: 4000,
            spots: [
              {
                name: "äºŒæ¢å¸‚å ´",
                category: "ç¾é£Ÿ",
                mapsQuery: "äºŒæ¡å¸‚å ´ æœ­å¹Œ",
                note: "æµ·é®®ä¸¼ã€èƒèŸ¹ã€æµ·ç”¢æ—©åˆé¤ä¸€æ¬¡æ»¿è¶³ã€‚",
                icon: "ğŸ¦€",
              },
              {
                name: "æœ­å¹Œè«è¨ªç¥ç¤¾",
                category: "æ™¯é»",
                mapsQuery: "æœ­å¹Œ è«è¨ªç¥ç¤¾",
                note: "èŠ±æ‰‹æ°´æ‹ç…§å¯æ„›å°æ™¯é»ï¼Œä¸ç”¨åœå¤ªä¹…ã€‚",
                icon: "ğŸ™",
              },
              {
                name: "è—»å²©å±±çºœè»Šãƒ»å±•æœ›å°",
                category: "æ™¯é»",
                mapsQuery: "æœ­å¹Œã‚‚ã„ã‚å±±ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤",
                note: "æœ­å¹Œç™¾è¬å¤œæ™¯ï¼Œçœ‹å®Œç›´æ¥ä¸‹å±±è¦“é£Ÿã€‚",
                icon: "ğŸŒƒ",
              },
            ],
            checklist: [
              { text: "æ—©ä¸Šå…ˆåƒä¸€é»æ±è¥¿ï¼Œä¸è¦ç©ºè…¹åƒæµ·é®®ä¸¼ã€‚", done: false },
              { text: "ä¸­åˆå‰å¾Œä¸€å®šè¦å›é£¯åº—ç¡åˆè¦ºã€‚", done: false },
              { text: "ä¸Šè—»å²©å±±å‰å†æª¢æŸ¥ä¿æš–ï¼šå¸½å­ã€åœå·¾ã€æ‰‹å¥—ã€æš–æš–åŒ…ã€‚", done: false },
              { text: "å¤œæ™¯ä¸€å®šè¦æ‹å¹¾å¼µã€å…©äººåˆç…§ã€ï¼Œä¸æ˜¯åªæœ‰é¢¨æ™¯ã€‚", done: false },
            ],
          },
          {
            id: "d4",
            display: 4,
            shortTitle: "å¤§é€šå…¬åœ’ãƒ»ç‹¸å°è·¯",
            title: "Day 4ï½œ1 / 29ï¼ˆå››ï¼‰åœ°ä¸‹è¡—é€›è¡—æ—¥",
            summary: "èµ°åœ°ä¸‹æ­¥è¡Œç©ºé–“åˆ°å¤§é€šå…¬åœ’ã€é›»è¦–å¡”ï¼Œå†åˆ°ç‹¸å°è·¯å•†åº—è¡—èˆ‡å’–å•¡å»³ã€‚",
            area: "æœ­å¹Œå¸‚ä¸­å¿ƒ",
            transportEstimate: 2500,
            spots: [
              {
                name: "å¤§é€šå…¬åœ’ & é›»è¦–å¡”å‘¨é‚Š",
                category: "æ™¯é»",
                mapsQuery: "å¤§é€šå…¬åœ’ æœ­å¹Œ",
                note: "å†¬å­£é›ªæ™¯ï¼Œèƒ½çœ‹åˆ°é›ªç¥­æº–å‚™ç¾å ´ã€‚",
                icon: "ğŸ—¼",
              },
              {
                name: "ç‹¸å°è·¯å•†åº—è¡—",
                category: "æ™¯é»",
                mapsQuery: "ç‹¸å°è·¯å•†åº—è¡—",
                note: "æœ‰å±‹é ‚çš„å•†åº—è¡—ï¼Œé€›è¡—é¿å¯’å¥½é¸æ“‡ã€‚",
                icon: "ğŸ›ï¸",
              },
              {
                name: "ç‹¸å°è·¯å‘¨é‚Šå’–å•¡å»³",
                category: "ç¾é£Ÿ",
                mapsQuery: "ç‹¸å°è·¯ ã‚«ãƒ•ã‚§",
                note: "ä¸‹åˆæ‰¾é–“å’–å•¡å»³åè‘—èŠå¤©ã€ä¼‘æ¯ã€‚",
                icon: "â˜•",
              },
            ],
            checklist: [
              { text: "ä»¥åœ°ä¸‹è¡—ç‚ºä¸»ï¼Œç›¡é‡å°‘åœ¨åœ°é¢å¹é¢¨ã€‚", done: false },
              { text: "è²·æƒ³è²·çš„å°ç´€å¿µå“ã€è—¥å¦å¯ä»¥é›†ä¸­åœ¨é€™ä¸€å¤©ã€‚", done: false },
              { text: "ä¸‹åˆå®‰æ’è‡³å°‘ 1ï½2 å°æ™‚ååœ¨å’–å•¡å»³ä¼‘æ¯ã€‚", done: false },
            ],
          },
          {
            id: "d5",
            display: 5,
            shortTitle: "å°æ¨½ä¸€æ—¥éŠ",
            title: "Day 5ï½œ1 / 30ï¼ˆäº”ï¼‰å°æ¨½é‹æ²³ & éŸ³æ¨‚ç›’å ‚",
            summary: "JR å‰å¾€å°æ¨½ï¼Œæ•£æ­¥å ºç”ºé€šã€å°æ¨½éŸ³æ¨‚ç›’å ‚èˆ‡é‹æ²³å¤œæ™¯ã€‚",
            area: "å°æ¨½",
            transportEstimate: 6000,
            spots: [
              {
                name: "å—å°æ¨½ç«™",
                category: "äº¤é€š",
                mapsQuery: "å—å°æ¨½é§…",
                note: "ä¸‹è»Šå¾Œä»¥ç·©ä¸‹å¡èµ°å‘å ºç”ºé€šï¼Œé«”åŠ›è¼ƒçœã€‚",
                icon: "ğŸš‰",
              },
              {
                name: "å°æ¨½éŸ³æ¨‚ç›’å ‚ 2 è™Ÿé¤¨ å¤è‘£éŸ³æ¨‚ç›’åšç‰©é¤¨",
                category: "æ™¯é»",
                mapsQuery: "å°æ¨½ã‚ªãƒ«ã‚´ãƒ¼ãƒ«å ‚ ç¬¬äºŒè™Ÿé¤¨ ã‚¢ãƒ³ãƒ†ã‚£ãƒ¼ã‚¯ãƒŸãƒ¥ãƒ¼ã‚¸ã‚¢ãƒ ",
                note: "ä½ çš„å¿…å»æ™¯é»ä¹‹ä¸€ï¼Œå…ˆæ’é€²è¡Œç¨‹å‰æ®µã€‚",
                icon: "ğŸµ",
              },
              {
                name: "å°æ¨½é‹æ²³",
                category: "æ™¯é»",
                mapsQuery: "å°æ¨½é‹æ²³",
                note: "å‚æ™šé»ç‡ˆæœ€æµªæ¼«ï¼Œå¯ä»¥æ‹å¾ˆå¤šç…§ç‰‡ã€‚",
                icon: "ğŸŒŠ",
              },
              {
                name: "æ”¿å£½å¸ï¼å£½å¸åº—",
                category: "ç¾é£Ÿ",
                mapsQuery: "æ”¿å¯¿å¸ å°æ¨½",
                note: "æ™šé¤å“åšå£½å¸ã€ç”Ÿé­šç‰‡ã€èƒèŸ¹æ–™ç†ã€‚",
                icon: "ğŸ£",
              },
            ],
            checklist: [
              { text: "æ—©ä¸Šææ—©å‡ºé–€æ­ JRï¼Œé¿å…å°–å³°äººæ½®ã€‚", done: false },
              { text: "å—å°æ¨½ç«™ä¸‹è»Šå¾Œä¸€è·¯æ˜¯ä¸‹å¡ï¼Œè¨˜å¾—ç©¿å¥½é˜²æ»‘é‹ã€‚", done: false },
              { text: "å ºç”ºé€šé‚Šèµ°é‚Šåƒï¼Œçœ‹åˆ°å–œæ­¡çš„åº—å°±é€²å»ä¼‘æ¯ã€‚", done: false },
              { text: "å›ç¨‹å‰å…ˆä¸Šæ´—æ‰‹é–“ï¼Œæ­è»Šå›æœ­å¹Œæ¯”è¼ƒå®‰å¿ƒã€‚", done: false },
            ],
          },
          {
            id: "d6",
            display: 6,
            shortTitle: "æœ­å¹Œå½ˆæ€§è‡ªç”±æ—¥",
            title: "Day 6ï½œ1 / 31ï¼ˆå…­ï¼‰è‡ªç”±å®‰æ’ãƒ»é«”åŠ›å›å¾©æ—¥",
            summary: "è¦–é«”åŠ›é¸æ“‡æœ­å¹Œè»Šç«™å‘¨é‚Šé€›è¡—ã€JR Tower å±•æœ›å°ï¼Œæˆ–åœ¨é£¯åº—å¤§æµ´å ´æ”¾é¬†ã€‚",
            area: "æœ­å¹Œè»Šç«™å‘¨é‚Š",
            transportEstimate: 2500,
            spots: [
              {
                name: "JR Tower å±•æœ›å° T38",
                category: "æ™¯é»",
                mapsQuery: "JRã‚¿ãƒ¯ãƒ¼ å±•æœ›å®¤ T38",
                note: "å®¤å…§çœ‹æœ­å¹Œå¸‚æ™¯çš„å¥½é¸æ“‡ã€‚",
                icon: "ğŸ™ï¸",
              },
              {
                name: "æœ­å¹Œç«™è³¼ç‰©å€",
                category: "æ™¯é»",
                mapsQuery: "æœ­å¹Œé§… å•†æ¥­æ–½è¨­",
                note: "å¤§ä¸¸ã€Stellar Place ç­‰å•†å ´æ…¢æ…¢é€›ã€‚",
                icon: "ğŸ›’",
              },
            ],
            checklist: [
              { text: "æ—©ä¸Šå¯ä»¥ç¡æ™šä¸€é»ï¼Œä¸å¿…è¶•è¡Œç¨‹ã€‚", done: false },
              { text: "ä¾ç…§ Cassandra / Ivy å…©å€‹äººå„è‡ªæ­¥èª¿å®‰æ’ã€‚", done: false },
              { text: "æ™šä¸Šä¸€å®šè¦å†æ³¡ä¸€æ¬¡å¤§æµ´å ´ï¼Œå¥½å¥½æ”¾é¬†ã€‚", done: false },
            ],
          },
          {
            id: "d7",
            display: 7,
            shortTitle: "æ”¯ç¬æ¹–å†°æ¿¤ç¥­",
            title: "Day 7ï½œ2 / 1ï¼ˆæ—¥ï¼‰ç§»å‹•åˆ°åƒæ­² & æ”¯ç¬æ¹–å†°æ¿¤ç¥­",
            summary: "ä¸Šåˆé€€æˆ¿ç§»å‹•åˆ°åƒæ­²ï¼Œä¸‹åˆï½æ™šä¸Šåƒè§€æ”¯ç¬æ¹–å†°æ¿¤ç¥­ã€‚",
            area: "åƒæ­²ãƒ»æ”¯ç¬æ¹–",
            transportEstimate: 8000,
            spots: [
              {
                name: "åƒæ­²ç«™ï¼åƒæ­²å¸‚å€",
                category: "äº¤é€š",
                mapsQuery: "åƒæ­³é§… åŒ—æµ·é“",
                note: "å…ˆå…¥ä½ Chiyoda-cho 3-13 ä¸€å¸¶ä½å®¿ã€‚",
                icon: "ğŸš‰",
              },
              {
                name: "æ”¯ç¬æ¹–æº«æ³‰è¡—",
                category: "æ™¯é»",
                mapsQuery: "æ”¯ç¬æ¹–æ¸©æ³‰",
                note: "æ¹–é‚Šæ•£æ­¥ã€æ„Ÿå—å†°é›ªç’°å¢ƒã€‚",
                icon: "ğŸï¸",
              },
              {
                name: "æ”¯ç¬æ¹–å†°æ¿¤ç¥­æœƒå ´",
                category: "æ™¯é»",
                mapsQuery: "æ”¯ç¬æ¹– æ°·æ¿¤ã¾ã¤ã‚Š",
                note: "å†°é›•èˆ‡å¤œé–“é»ç‡ˆï¼Œè¶…ç´šå†·ï¼Œä¸€å®šè¦å¤šç©¿ã€‚",
                icon: "â„ï¸",
              },
            ],
            checklist: [
              { text: "æ—©ä¸Šé€€æˆ¿æ™‚ç¢ºèªè¡Œæå…¨éƒ¨æ‰“åŒ…å¥½ã€‚", done: false },
              { text: "å»å†°æ¿¤ç¥­å‰èº«ä¸Šè²¼å¥½æš–æš–åŒ…ã€‚", done: false },
              { text: "æ‰‹æ©Ÿé›»é‡ + è¡Œå‹•é›»æºéƒ½è¦å……é£½ã€‚", done: false },
            ],
          },
          {
            id: "d8",
            display: 8,
            shortTitle: "æ–°åƒæ­²æ©Ÿå ´ä¸€æ—¥éŠ",
            title: "Day 8ï½œ2 / 2ï¼ˆä¸€ï¼‰æ–°åƒæ­²æ©Ÿå ´æ¨‚åœ’æ—¥",
            summary: "ä¸€æ•´å¤©å¾…åœ¨æ–°åƒæ­²æ©Ÿå ´ï¼šHello Kittyã€Royce å·§å…‹åŠ›ä¸–ç•Œã€æ©Ÿå ´æº«æ³‰ã€æ‹‰éºµé“å ´ã€‚",
            area: "æ–°åƒæ­²æ©Ÿå ´",
            transportEstimate: 4000,
            spots: [
              {
                name: "Hello Kitty Happy Flight",
                category: "æ™¯é»",
                mapsQuery: "HELLO KITTY HAPPY FLIGHT æ–°åƒæ­³",
                note: "ä¸»é¡Œå±•èˆ‡æ‹ç…§å€ï¼Œé©åˆè¼•é¬†æ…¢é€›ã€‚",
                icon: "ğŸ€",
              },
              {
                name: "Royce' Chocolate World",
                category: "æ™¯é»",
                mapsQuery: "Royce' Chocolate World æ–°åƒæ­³ç©ºæ¸¯",
                note: "å·§å…‹åŠ›å·¥å»  + åšç‰©é¤¨ + ä¼´æ‰‹ç¦®ã€‚",
                icon: "ğŸ«",
              },
              {
                name: "æ–°åƒæ­²æ©Ÿå ´æº«æ³‰",
                category: "æ™¯é»",
                mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯æ¸©æ³‰",
                note: "æ³¡æ¹¯æ”¾é¬†è…¿ï¼Œå®Œå…¨å®¤å…§ä¸æ€•å†·ã€‚",
                icon: "â™¨ï¸",
              },
              {
                name: "æ‹‰éºµé“å ´",
                category: "ç¾é£Ÿ",
                mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯ ãƒ©ãƒ¼ãƒ¡ãƒ³é“å ´",
                note: "ä¸€æ¬¡åƒåˆ°å¤šå®¶åŒ—æµ·é“æ‹‰éºµååº—ã€‚",
                icon: "ğŸœ",
              },
            ],
            checklist: [
              { text: "å¸¶å€‹å°æ‰˜ç‰¹åŒ…è£ä¼´æ‰‹ç¦®ï¼Œæ¯”è¼ƒå¥½æ‹ã€‚", done: false },
              { text: "å…ˆæŠŠå¿…è²·æ¸…å–®å®Œæˆï¼Œå†é€›å…¶ä»–åº—ã€‚", done: false },
              { text: "ä¸‹åˆå®‰æ’æ©Ÿå ´æº«æ³‰ç•¶ä½œè…¿éƒ¨å¾©å¥ã€‚", done: false },
            ],
          },
          {
            id: "d9",
            display: 9,
            shortTitle: "å›ç¨‹ãƒ»æœ€å¾Œæ¡è²·",
            title: "Day 9ï½œ2 / 3ï¼ˆäºŒï¼‰å›ç¨‹æ—¥",
            summary: "Check-out å¾Œå‰å¾€æ–°åƒæ­²æ©Ÿå ´ï¼Œæœ€å¾Œæ¡è²·ä¼´æ‰‹ç¦®ï¼Œæ­æ©Ÿå›å°ç£ã€‚",
            area: "åƒæ­²ãƒ»æ–°åƒæ­²æ©Ÿå ´",
            transportEstimate: 3000,
            spots: [
              {
                name: "æ–°åƒæ­²æ©Ÿå ´ ä¼´æ‰‹ç¦®å€",
                category: "ç¾é£Ÿ",
                mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯ ãŠåœŸç”£",
                note: "ç™½è‰²æˆ€äººã€Royceã€è–¯æ¢ä¸‰å…„å¼Ÿç­‰ä¸€æ¬¡è²·é½Šã€‚",
                icon: "ğŸ›ï¸",
              },
              {
                name: "æ–°åƒæ­²æ©Ÿå ´åœ‹éš›ç·šå‡ºå¢ƒ",
                category: "äº¤é€š",
                mapsQuery: "æ–°åƒæ­³ç©ºæ¸¯ å›½éš›ç·š å‡ºç™º",
                note: "èµ·é£›å‰ 2.5ã€œ3 å°æ™‚åˆ°æ©Ÿå ´æœ€å®‰å¿ƒã€‚",
                icon: "âœˆï¸",
              },
            ],
            checklist: [
              { text: "å†æ¬¡ç¢ºèªè­·ç…§ã€æ©Ÿç¥¨ã€éŒ¢åŒ…éƒ½åœ¨èº«ä¸Šã€‚", done: false },
              { text: "æŠŠé›¶éŒ¢å’Œå‰©ä¸‹çš„æ—¥å¹£æ›æˆé›¶é£Ÿæˆ–ç´€å¿µå°ç‰©ã€‚", done: false },
              { text: "ä¸Šæ©Ÿå‰ä¸Šä¸€æ¬¡æ´—æ‰‹é–“ã€è£œæ°´ã€‚", done: false },
            ],
          },
        ],
      };
    },
    computed: {
      currentDay() {
        return this.days.find(d => d.id === this.currentDayId) || this.days[0];
      },
      mapEmbedUrl() {
        const q = encodeURIComponent(this.currentSpot.mapsQuery || this.currentSpot.name);
        return `https://www.google.com/maps?q=${q}&output=embed`;
      },
      budgetJpy() {
        return Math.round(this.budgetTwd * this.jpyPerTwd);
      },
      totalSpendJpy() {
        let sum = 0;
        for (const id in this.dailySpendEstimate) {
          sum += Number(this.dailySpendEstimate[id] || 0);
        }
        sum += Number(this.extraManualSpend || 0);
        return Math.round(sum);
      },
      totalSpendTwd() {
        return this.jpyPerTwd ? Math.round(this.totalSpendJpy / this.jpyPerTwd) : 0;
      },
      remainingJpy() {
        return Math.max(this.budgetJpy - this.totalSpendJpy, 0);
      },
      budgetUsedPercent() {
        if (!this.budgetJpy) return 0;
        return Math.min((this.totalSpendJpy / this.budgetJpy) * 100, 120);
      },
      budgetBarColor() {
        if (this.budgetUsedPercent < 70) return "bg-emerald-400";
        if (this.budgetUsedPercent < 100) return "bg-amber-400";
        return "bg-red-500";
      },
    },
    methods: {
      selectDay(id) {
        this.currentDayId = id;
        const day = this.days.find(d => d.id === id);
        if (day && day.spots.length > 0) {
          this.currentSpot = day.spots[0];
        }
      },
      setCurrentSpot(spot) {
        this.currentSpot = spot;
      },
      openMaps(query) {
        const q = encodeURIComponent(query);
        const url = `https://www.google.com/maps/search/?api=1&query=${q}`;
        window.open(url, "_blank");
      },
    },
    mounted() {
      // åˆå§‹åŒ– Day1 ç¬¬ä¸€å€‹æ™¯é»
      const day = this.days.find(d => d.id === this.currentDayId);
      if (day && day.spots[0]) {
        this.currentSpot = day.spots[0];
      }
    },
  }).mount("#app");
</script>
</body>
</html>




